<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dashboard - Light Marketing">
    <meta name="robots" content="noindex, nofollow">
    <title>Dashboard - Light Marketing</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text">Carregando...</p>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <a href="dashboard.html" class="logo">
                <img src="favicon.ico" alt="Light Marketing Logo" class="logo-icon" width="36" height="36">
                <span class="logo-text">
                    <span class="logo-light">LIGHT</span>
                    <span class="logo-marketing">MARKETING</span>
                </span>
            </a>
            <nav class="nav">
                <a href="index.html" class="user-button">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 10V3L4 14H11V21L20 10H13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Ferramenta
                </a>
                <button class="user-button logout-btn" id="logout-btn">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9M16 17L21 12M21 12L16 7M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Sair
                </button>
            </nav>
        </div>
    </header>

    <!-- Dashboard Main -->
    <main class="dashboard-main">
        <div class="dashboard-container">
            <!-- Welcome Header -->
            <div class="dashboard-header">
                <h1 class="dashboard-welcome">OlÃ¡, <span id="user-name">usuÃ¡rio</span>! ðŸ‘‹</h1>
                <p class="dashboard-subtitle">Bem-vindo ao seu painel de controle</p>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <!-- Plano Atual -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#0C7E92" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M2 17L12 22L22 17" stroke="#0C7E92" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M2 12L12 17L22 12" stroke="#0C7E92" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </div>
                    <p class="stat-label">Plano Atual</p>
                    <h3 class="stat-value" id="current-tier">Free</h3>
                    <p class="stat-info" id="plan-status">Plano ativo</p>
                </div>

                <!-- Uso Mensal -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 11L12 14L22 4" stroke="#0C7E92" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M21 12V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16" stroke="#0C7E92" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </div>
                    <p class="stat-label">Uso Este MÃªs</p>
                    <h3 class="stat-value"><span id="current-usage">0</span>/<span id="usage-limit">5</span></h3>
                    <div class="stat-progress">
                        <div class="progress-bar-mini">
                            <div class="progress-fill-mini" id="usage-progress" style="width: 0%"></div>
                        </div>
                        <div class="progress-label">
                            <span>Processamentos</span>
                            <span id="usage-percent">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Total Processado -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2V22M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H14.5C15.4283 12 16.3185 12.3687 16.9749 13.0251C17.6313 13.6815 18 14.5717 18 15.5C18 16.4283 17.6313 17.3185 16.9749 17.9749C16.3185 18.6313 15.4283 19 14.5 19H6" stroke="#0C7E92" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </div>
                    <p class="stat-label">Total Processado</p>
                    <h3 class="stat-value" id="total-usage">0</h3>
                    <p class="stat-info">Desde o inÃ­cio</p>
                </div>
            </div>

            <!-- Current Plan Section -->
            <div class="subscription-section" id="current-plan-section">
                <h2 class="section-title">Seu Plano</h2>
                <div class="current-plan-card" id="current-plan-card">
                    <!-- ConteÃºdo serÃ¡ preenchido dinamicamente -->
                </div>
            </div>

            <!-- Upgrade Plans Section -->
            <div class="subscription-section" id="upgrade-section" style="display: none;">
                <h2 class="section-title">Planos DisponÃ­veis</h2>
                <div class="plans-grid" id="plans-grid">
                    <!-- Planos serÃ£o carregados dinamicamente -->
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="activity-section">
                <h2 class="section-title">Atividade Recente</h2>
                <div class="activity-list" id="activity-list">
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 12H15M9 16H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L18.7071 8.70711C18.8946 8.89464 19 9.149 19 9.41421V19C19 20.1046 18.1046 21 17 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>Nenhuma atividade recente</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Light Marketing. Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Supabase & Stripe -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Scripts -->
    <script src="config/supabase-config.js"></script>
    <script src="config/stripe-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
